var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){this.ContactModal=function(){this.box=null,this.form=null;arguments[0]&&"object"===_typeof(arguments[0])&&(this.options=function(t,e){for(var o in t)if(e.hasOwnProperty(o))if("object"===_typeof(t[o])&&null!==t[o])for(subprop in t[o])e[o].hasOwnProperty(subprop)&&(t[o][subprop]=e[o][subprop]);else t[o]=e[o];return t}({endpoint:"submit.php",position:"right",name:!0,email:null,delay:5,token:{name:null,value:null},colors:{bg:"#242424",text:"#ffffff",details:"#242424"},texts:{title:"Let's have a chat!",subtitle:null,namePlaceholder:"Your name",emailPlaceholder:"Your email",messagePlaceholder:"Your message",successMssg:"Thanks, your message has been sent!",errorMssg:"Uh-oh... Something went wrong. Please try again later.",buttonText:"Send"}},arguments[0])),this.render()},ContactModal.prototype.render=function(){var t=document.createDocumentFragment(),e="string"==typeof this.options.name&&this.options.name?'<input class="input" id="user_name" type="text" placeholder="'+this.options.texts.namePlaceholder+'" required value="'+this.options.name+'"></input>':'<input class="input" id="user_name" type="text" placeholder="'+this.options.texts.namePlaceholder+'" required></input>',o="string"==typeof this.options.email&&this.options.email?'<input class="input" id="user_email" type="email" placeholder="'+this.options.texts.emailPlaceholder+'" required value="'+this.options.email+'"></input>':'<input class="input" id="user_email" type="email" placeholder="'+this.options.texts.emailPlaceholder+'" required></input>';if(this.box=document.createElement("div"),this.box.id="contactmodal",this.box.className=""+this.options.position,this.box.innerHTML='\n      <button class="contactmodal__btn contactmodal__click">\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" viewBox="0 0 120 90">\n          <path d="M60,0 l50,0 a10,10 0 0,1 7,17 l-50,50 a10,10 0 0,1 -13,0 l-50,-50 a10,10 0 0,1 7,-17z" stroke="#000" stroke-width="0" />\n          <path d="M60,90 l54,0 a10,10 0 0,0 7,-7 l0,-60 -50,50 a15,15 0 0,1 -21,0 l-50,-50 0,60 a10,10 0 0,0 7,7z" stroke="#000" stroke-width="0" />  \n        </svg>\n      </button>\n      <div class="contactmodal">\n        <div class="contactmodal__contact">\n          <div class="contactmodal__exit contactmodal__click">&#215;</div>\n          <h3 class="contactmodal__title contactmodal__title--contact">\n            '+this.options.texts.title+'\n          </h3>\n          <h3 class="contactmodal__sub-title contactmodal__sub-title--contact">\n            '+this.options.texts.subtitle+'\n          </h3>\n          <form id="contact__form" class="contactmodal__form">\n            <div class="form__item">\n              '+e+'\n            </div>\n            <div class="form__item">\n              '+o+'\n            </div>\n            <div class="form__item">\n              <textarea class="input" id="user_message" type="text" placeholder="'+this.options.texts.messagePlaceholder+'" required></textarea>\n            </div>\n            <button id="contact__submit" class="form__submit">\n              '+this.options.texts.buttonText+'\n            </button>\n          </form>\n          <div class="contactmodal__overlay contactmodal__overlay--loading">\n            <div class="contactmodal__spinner"></div>\n          </div>\n          <div class="contactmodal__overlay contactmodal__overlay--success">\n            '+this.options.texts.successMssg+'\n          </div>\n          <div class="contactmodal__overlay contactmodal__overlay--error">\n            '+this.options.texts.errorMssg+"\n          </div>\n        </div>\n      </div>\n    ",this.form=this.box.querySelector(".contactmodal__form"),0==this.options.name||null==this.options.name){var s=this.form.querySelectorAll(".form__item")[0];s.querySelector("input").required=!1,s.style.display="none"}this.options.texts.subtitle||(this.box.querySelector(".contactmodal__sub-title").style.display="none"),document.querySelector(":root").style.setProperty("--bg-color",this.options.colors.bg),document.querySelector(":root").style.setProperty("--text-color",this.options.colors.text),document.querySelector(":root").style.setProperty("--details-color",this.options.colors.details),t.appendChild(this.box),document.body.appendChild(t),this.listen()},ContactModal.prototype.listen=function(){var t=this;this.box.querySelector(".contactmodal__btn").addEventListener("click",function(){return t.toggle()}),this.box.querySelector(".contactmodal__exit").addEventListener("click",function(){return t.toggle()}),this.form.addEventListener("submit",function(e){return t.contact(e)})},ContactModal.prototype.toggle=function(){this.box.classList.toggle("contactmodal--open")},ContactModal.prototype.contact=function(t){t.preventDefault();var e=this,o=this.form,s=this.box.querySelector(".contactmodal__overlay--loading"),n=this.box.querySelector(".contactmodal__overlay--success"),i=this.box.querySelector(".contactmodal__overlay--error");s.classList+=" contactmodal__overlay--visible";var a=o.querySelector("#user_name").value||null,l=this.options.email||o.querySelector("#user_email").value,r=o.querySelector("#user_message").value,c=this.options.token,u=new XMLHttpRequest;u.open("POST",this.options.endpoint),u.setRequestHeader("Content-Type","application/json"),u.onload=function(){o.reset(),o.querySelector("button").blur(),s.classList.remove("contactmodal__overlay--visible"),200===u.status?(n.classList+=" contactmodal__overlay--visible",setTimeout(function(){n.classList.remove("contactmodal__overlay--visible")},1e3*e.options.delay)):(i.classList+=" contactmodal__overlay--visible",setTimeout(function(){i.classList.remove("contactmodal__overlay--visible")},1e3*e.options.delay))},u.onerror=function(){o.reset(),o.querySelector("button").blur(),s.classList.remove("contactmodal__overlay--visible"),i.classList+=" contactmodal__overlay--visible",setTimeout(function(){i.classList.remove("contactmodal__overlay--visible")},1e3*e.options.delay)},c.name&&c.value?u.send(JSON.stringify({name:a,email:l,message:r,page:window.location.href,token:c})):u.send(JSON.stringify({name:a,email:l,message:r,page:window.location.href}))}}();